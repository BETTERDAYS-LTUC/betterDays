<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
    <link href="css/patientProfile.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

</head>
<body>
<!-- Watch this video https://youtu.be/dbGeDFl1v1s -->
<nav th:replace="fag/nav"></nav>
<section id="cardid">
<div class="card">
    <img src="https://www.nautec.com/wp-content/uploads/2018/04/placeholder-person.png" alt="">
    <h2 th:text="${patient.nickName}" ></h2>
    <div class="cont">
        <ul>
            <li>First Name : <span th:text="${patient.firstName }"></span></li>
            <li>Last Name : <span th:text="${patient.lastName }"></span></li>
            <li>Email : <span th:text="${patient.email }"></span></li>
            <li>Age : <span th:text="${patient.age }"></span></li>
            <li>Test Result : <span th:text="${patient.testResult }"></span></li>
        </ul>
        <div>
            <a  data-bs-target="#offcanvas" class="btn btn-primary" data-bs-toggle="offcanvas" role="button"
                aria-controls="offcanvasExample">Appointments</a>
        </div>

        <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvas" aria-labelledby="offcanvasExample">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasLabel">Appointments</h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <div class="accordion" id="accordionExample">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                <span th:text="${patient.booking.text}"></span>
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                                <strong>Dr.</strong><span th:text="${patient.doctorEntity.firstName + ' ' + patient.doctorEntity.lastName}"></span>
                                <br/>
                                <br/>
                                <p>The session starts at :<span th:text="${patient.booking.start}"></span></p>
                                <p>The session ends at :<span th:text="${patient.booking.end1}"></span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
    <!-- Button trigger modal -->
    <button type="button" class="button" data-bs-toggle="modal" data-bs-target="#exampleModal">
        Edit profile
    </button>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Edit profile</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form action="/updateProfile" method="post">
                        <div class="field">
                            <span class="fas fa-user"></span>
                            <label>User Name</label>
                            <input type="text" name="userName" id="userName"
                                   th:value="${patient.userName}" readonly>

                        </div>

                        <div class="field">
                            <span class="fas fa-user"></span>
                            <label>First Name</label>
                            <input type="text" name="firstName" id="firstName"
                                   th:value="${patient.firstName}">

                        </div>

                        <div class="field">
                            <span class="fas fa-user"></span>
                            <label>Last Name</label>
                            <input type="text" name="lastName" id="lastName"
                                   th:value="${patient.lastName}">

                        </div>
                        <div class="field">
                            <span class="fas fa-user"></span>
                            <label>Nick Name</label>
                            <input type="text" name="nickName" id="nickName"
                                   th:value="${patient.nickName}">

                        </div>
                        <div class="field">
                            <span class="fas fa-user"></span>
                            <label>email</label>
                            <input type="email" name="email" id="email"
                                   th:value="${patient.email}">

                        </div>

                        <div class="field">
                            <span class="fas fa-user"></span>
                            <label>First Name</label>
                            <input type="number" name="age" id="age"
                                   th:value="${patient.age}">

                        </div>

                        <div class="field">
                            <span class="fas fa-lock"></span>
                            <label>Password</label>
                            <input name="password" id="password" placeholder="password"type="password"
                                   th:value="${patient.password}" readonly>


                        </div>
                        <button type="submit">Update</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

</section>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<div>
 <hr>
</div>
<footer th:replace="fag/footer"></footer>
</body>
</html>